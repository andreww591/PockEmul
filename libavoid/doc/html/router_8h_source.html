<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>router.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
<style>
pre { 
    border: dotted 1px #900; 
    padding: 5px; 
    background-color: #ffe;
}
a.anchor:hover {
    text-decoration: none;
}
</style>
</head>
<body>
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">router.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="router_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * vim: ts=4 sw=4 et tw=0 wm=0</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * libavoid - Fast, Incremental, Object-avoiding Line Router</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Copyright (C) 2004-2009  Monash University</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * This library is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * See the file LICENSE.LGPL distributed with the library.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * Licensees holding a valid commercial license may use this file in</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * accordance with the commercial license agreement provided with the </span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * library.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * This library is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  </span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * Author(s):   Michael Wybrow &lt;mjwybrow@users.sourceforge.net&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#ifndef AVOID_ROUTER_H</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define AVOID_ROUTER_H</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;list&gt;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="connector_8h.html" title="Contains the interface for the ConnRef class.">libavoid/connector.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;libavoid/vertices.h&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;libavoid/graph.h&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;libavoid/timer.h&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#if defined(LINEDEBUG) || defined(ASTAR_DEBUG) || defined(LIBAVOID_SDL)</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor"></span><span class="preprocessor">    #include &lt;SDL.h&gt;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">    #ifndef LIBAVOID_SDL</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor"></span><span class="preprocessor">        #define LIBAVOID_SDL</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor"></span><span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">namespace </span>Avoid {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">typedef</span> std::list&lt;unsigned int&gt; IntList;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="keyword">class </span>ActionInfo;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keyword">typedef</span> std::list&lt;ActionInfo&gt; ActionInfoList;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">class </span>ShapeRef;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="keyword">class </span>JunctionRef;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword">class </span>ClusterRef;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keyword">typedef</span> std::list&lt;ClusterRef *&gt; ClusterRefList;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="keyword">class </span>Obstacle;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keyword">typedef</span> std::list&lt;Obstacle *&gt; ObstacleList;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="code" href="namespace_avoid.html#a8b398574e5b64951b7f23a36a1cdfcf4">   64</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="namespace_avoid.html#a8b398574e5b64951b7f23a36a1cdfcf4" title="Flags that can be passed to the router during initialisation to specify options.">RouterFlag</a></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;{</div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="code" href="namespace_avoid.html#a8b398574e5b64951b7f23a36a1cdfcf4abd8248b5a3102d2b5b50c4010397de63">   68</a></span>&#160;    <a class="code" href="namespace_avoid.html#a8b398574e5b64951b7f23a36a1cdfcf4abd8248b5a3102d2b5b50c4010397de63" title="This option specifies that the router should maintain the structures necessary to allow poly-line con...">PolyLineRouting</a> = 1,</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="code" href="namespace_avoid.html#a8b398574e5b64951b7f23a36a1cdfcf4a4b104d4d6ef8bcf22994808b936e83ff">   71</a></span>&#160;    <a class="code" href="namespace_avoid.html#a8b398574e5b64951b7f23a36a1cdfcf4a4b104d4d6ef8bcf22994808b936e83ff" title="This option specifies that the router should maintain the structures necessary to allow orthogonal co...">OrthogonalRouting</a> = 2</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;};</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> runningTo = 1;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> runningFrom = 2;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> runningToAndFrom = runningTo | runningFrom;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="code" href="namespace_avoid.html#a987c87fd854204aaa7ba648232acc265">   81</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="namespace_avoid.html#a987c87fd854204aaa7ba648232acc265" title="Types of penalty cases that can be used to improve the quality of the connector routes produced...">PenaltyType</a></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;{</div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="code" href="namespace_avoid.html#a987c87fd854204aaa7ba648232acc265ad518475ff7cdd46b69468ae09560c9f6">   87</a></span>&#160;    <a class="code" href="namespace_avoid.html#a987c87fd854204aaa7ba648232acc265ad518475ff7cdd46b69468ae09560c9f6" title="This penalty is applied for each segment in the connector path beyond the first. This should always n...">segmentPenalty</a> = 0,</div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="code" href="namespace_avoid.html#a987c87fd854204aaa7ba648232acc265a9419cfef2c9150715e52de573580ce5e">   95</a></span>&#160;    <a class="code" href="namespace_avoid.html#a987c87fd854204aaa7ba648232acc265a9419cfef2c9150715e52de573580ce5e" title="This penalty is applied in its full amount to tight acute bends in the connector path. A smaller portion of the penalty is applied for slight bends, i.e., where the bend is close to 180 degrees. This is useful for polyline routing where there is some evidence that tighter corners are worse for readability, but that slight bends might not be so bad, especially when smoothed by curves.">anglePenalty</a>,</div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="code" href="namespace_avoid.html#a987c87fd854204aaa7ba648232acc265a1441b8b9a3aaa75e5b9116a54c1d654b">  102</a></span>&#160;    <a class="code" href="namespace_avoid.html#a987c87fd854204aaa7ba648232acc265a1441b8b9a3aaa75e5b9116a54c1d654b" title="This penalty is applied whenever a connector path crosses another connector path. It takes shared pat...">crossingPenalty</a>,</div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="code" href="namespace_avoid.html#a987c87fd854204aaa7ba648232acc265a310f9eb2c2d36b367ade5bd9284090c0">  107</a></span>&#160;    <a class="code" href="namespace_avoid.html#a987c87fd854204aaa7ba648232acc265a310f9eb2c2d36b367ade5bd9284090c0" title="This penalty is applied whenever a connector path crosses a cluster boundary.">clusterCrossingPenalty</a>,</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="code" href="namespace_avoid.html#a987c87fd854204aaa7ba648232acc265a586e41e5033600acebea92d51af69871">  114</a></span>&#160;    <a class="code" href="namespace_avoid.html#a987c87fd854204aaa7ba648232acc265a586e41e5033600acebea92d51af69871" title="This penalty is applied whenever a connector path shares some segments with an immovable portion of a...">fixedSharedPathPenalty</a>,</div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="code" href="namespace_avoid.html#a987c87fd854204aaa7ba648232acc265a4b063b8410394390341c5d5866091202">  121</a></span>&#160;    <a class="code" href="namespace_avoid.html#a987c87fd854204aaa7ba648232acc265a4b063b8410394390341c5d5866091202" title="This penalty is applied to port selection choice when the other end of the connector being routed doe...">portDirectionPenalty</a>,</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="comment">// Used for determining the size of the penalty array.  </span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="comment">// This should always we the last value in the enum.</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    lastPenaltyMarker</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;};</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> noPenalty = 0;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> chooseSensiblePenalty = -1;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="code" href="class_avoid_1_1_router.html">  137</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_avoid_1_1_router.html" title="The Router class represents a libavoid router instance.">Router</a> {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <a class="code" href="class_avoid_1_1_router.html#aae0b300221fbff0d5539ef42e99d8714" title="Constructor for router instance.">Router</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <a class="code" href="class_avoid_1_1_router.html#a415aa6409ec5d573bcdb90b1ce73e020" title="Destructor for router instance.">~Router</a>();</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        ObstacleList m_obstacles;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        ConnRefList connRefs;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        ClusterRefList clusterRefs;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        EdgeList visGraph;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        EdgeList invisGraph;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        EdgeList visOrthogGraph;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        ContainsMap contains;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        VertInfList vertices;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        ContainsMap enclosingClusters;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keywordtype">bool</span> PartialTime;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="keywordtype">bool</span> SimpleRouting;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordtype">bool</span> ClusteredRouting;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="comment">// Poly-line routing options:</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keywordtype">bool</span> IgnoreRegions;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="keywordtype">bool</span> UseLeesAlgorithm;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordtype">bool</span> InvisibilityGrph;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;       </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="comment">// General routing options:</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordtype">bool</span> SelectiveReroute;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordtype">bool</span> PartialFeedback;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="keywordtype">bool</span> RubberBandRouting;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="comment">// Instrumentation:</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        Timer timers;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keywordtype">int</span> st_checked_edges;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="preprocessor">#ifdef LIBAVOID_SDL</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="preprocessor"></span>        SDL_Surface *avoid_screen;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_avoid_1_1_router.html#a74b2908173631381499be763ea0b0dad" title="Allows setting of the behaviour of the router in regard to transactions. This controls whether transa...">setTransactionUse</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> transactions);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="class_avoid_1_1_router.html#aaa322ef199e508ea8a7b74a29b4ab846" title="Reports whether the router groups actions into transactions.">transactionUse</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="class_avoid_1_1_router.html#ac4497126d8d4c76a122af565260941fc" title="Finishes the current transaction and processes all the queued object changes efficiently.">processTransaction</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_avoid_1_1_router.html#a7b59a24d798300c35f8dc3e5fb10840d" title="Add a shape to the router scene.">addShape</a>(<a class="code" href="class_avoid_1_1_shape_ref.html" title="The ShapeRef class represents a shape object.">ShapeRef</a> *shape);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_avoid_1_1_router.html#a13c819a2f613feba4ed142baca1b283b" title="Remove a shape from the router scene.">removeShape</a>(<a class="code" href="class_avoid_1_1_shape_ref.html" title="The ShapeRef class represents a shape object.">ShapeRef</a> *shape);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_avoid_1_1_router.html#a766c0dd498c38822cf9ea7c77af28b3d" title="Move or resize an existing shape within the router scene.">moveShape</a>(<a class="code" href="class_avoid_1_1_shape_ref.html" title="The ShapeRef class represents a shape object.">ShapeRef</a> *shape, <span class="keyword">const</span> <a class="code" href="class_avoid_1_1_polygon.html" title="A dynamic Polygon, to which points can be easily added and removed.">Polygon</a>&amp; newPoly,</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">bool</span> first_move = <span class="keyword">false</span>);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_avoid_1_1_router.html#a766c0dd498c38822cf9ea7c77af28b3d" title="Move or resize an existing shape within the router scene.">moveShape</a>(<a class="code" href="class_avoid_1_1_shape_ref.html" title="The ShapeRef class represents a shape object.">ShapeRef</a> *shape, <span class="keyword">const</span> <span class="keywordtype">double</span> xDiff, <span class="keyword">const</span> <span class="keywordtype">double</span> yDiff);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_avoid_1_1_router.html#a2d3f89cb20f82cf3faf3b7b53aca6c3d" title="Add a junction from the router scene.">addJunction</a>(<a class="code" href="class_avoid_1_1_junction_ref.html" title="The JunctionRef class represents a fixed or free-floating point that connectors can be attached to...">JunctionRef</a> *junction);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_avoid_1_1_router.html#aa99dd5c020c208ab16b4699ef2085f4e" title="Remove a junction from the router scene.">removeJunction</a>(<a class="code" href="class_avoid_1_1_junction_ref.html" title="The JunctionRef class represents a fixed or free-floating point that connectors can be attached to...">JunctionRef</a> *junction);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_avoid_1_1_router.html#a08021cac275575c7795e2005e5eadb9a" title="Move an existing junction within the router scene.">moveJunction</a>(<a class="code" href="class_avoid_1_1_junction_ref.html" title="The JunctionRef class represents a fixed or free-floating point that connectors can be attached to...">JunctionRef</a> *junction, <span class="keyword">const</span> <a class="code" href="class_avoid_1_1_point.html" title="The Point class defines a point in the plane.">Point</a>&amp; newPosition);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_avoid_1_1_router.html#a08021cac275575c7795e2005e5eadb9a" title="Move an existing junction within the router scene.">moveJunction</a>(<a class="code" href="class_avoid_1_1_junction_ref.html" title="The JunctionRef class represents a fixed or free-floating point that connectors can be attached to...">JunctionRef</a> *junction, <span class="keyword">const</span> <span class="keywordtype">double</span> xDiff, </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">double</span> yDiff);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_avoid_1_1_router.html#a668772cf99bc1b7c3d0f1ed612c8a6d2" title="Sets a spacing distance for overlapping orthogonal connectors to be nudged apart.">setOrthogonalNudgeDistance</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> dist);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keywordtype">double</span> <a class="code" href="class_avoid_1_1_router.html#ae6e5770352ff7f37861c68d02bf790ec" title="Returns the spacing distance that overlapping orthogonal connecotrs are nudged apart.">orthogonalNudgeDistance</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_avoid_1_1_router.html#a650314508371c0f0f049c760996826b1" title="Sets or removes penalty values that are applied during connector routing.">setRoutingPenalty</a>(<span class="keyword">const</span> <a class="code" href="namespace_avoid.html#a987c87fd854204aaa7ba648232acc265" title="Types of penalty cases that can be used to improve the quality of the connector routes produced...">PenaltyType</a> penType, </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">double</span> penVal = chooseSensiblePenalty);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <span class="keywordtype">double</span> <a class="code" href="class_avoid_1_1_router.html#a3bc7acd847e16a8f29e5960379ae6ac1" title="Returns the current penalty value for a particular routing penalty case.">routingPenalty</a>(<span class="keyword">const</span> <a class="code" href="namespace_avoid.html#a987c87fd854204aaa7ba648232acc265" title="Types of penalty cases that can be used to improve the quality of the connector routes produced...">PenaltyType</a> penType) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="keywordtype">void</span> addCluster(ClusterRef *cluster);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="keywordtype">void</span> delCluster(ClusterRef *cluster);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="preprocessor"></span>        <span class="comment">// XXX: attachedShapes and attachedConns both need to be rewritten</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="comment">//      for constant time lookup of attached objects once this info</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <span class="comment">//      is stored better within libavoid.  Also they shouldn&#39;t need to</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <span class="comment">//      be friends of ConnRef.</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <span class="keywordtype">void</span> attachedShapes(IntList &amp;shapes, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> shapeId,</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> type);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="keywordtype">void</span> attachedConns(IntList &amp;conns, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> shapeId,</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> type);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="preprocessor"></span>        </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <span class="keywordtype">void</span> markConnectors(Obstacle *obstacle);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="keywordtype">void</span> generateContains(VertInf *pt);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="keywordtype">void</span> printInfo(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <span class="keywordtype">void</span> outputInstanceToSVG(std::string filename = std::string());</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> assignId(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> suggestedId);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <span class="keywordtype">void</span> regenerateStaticBuiltGraph(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <span class="keywordtype">void</span> destroyOrthogonalVisGraph(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="keywordtype">void</span> setStaticGraphInvalidated(<span class="keyword">const</span> <span class="keywordtype">bool</span> invalidated);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <a class="code" href="namespace_avoid.html#a2dc870f7d17f81f6833e3bb8e77762c2" title="Describes the type of routing that is performed for each connector.">ConnType</a> validConnType(<span class="keyword">const</span> <a class="code" href="namespace_avoid.html#a2dc870f7d17f81f6833e3bb8e77762c2" title="Describes the type of routing that is performed for each connector.">ConnType</a> select = ConnType_None) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <span class="keywordtype">bool</span> objectIsInQueuedActionList(<span class="keywordtype">void</span> *<span class="keywordtype">object</span>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="keywordtype">double</span>&amp; penaltyRef(<span class="keyword">const</span> <a class="code" href="namespace_avoid.html#a987c87fd854204aaa7ba648232acc265" title="Types of penalty cases that can be used to improve the quality of the connector routes produced...">PenaltyType</a> penType);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="keywordtype">bool</span> existsOrthogonalPathOverlap(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <span class="keywordtype">bool</span> existsOrthogonalTouchingPaths(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="keywordtype">int</span>  existsOrthogonalCrossings(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_avoid_1_1_shape_ref.html" title="The ShapeRef class represents a shape object.">ShapeRef</a>;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_avoid_1_1_conn_ref.html" title="The ConnRef class represents a connector object.">ConnRef</a>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_avoid_1_1_junction_ref.html" title="The JunctionRef class represents a fixed or free-floating point that connectors can be attached to...">JunctionRef</a>;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="keyword">friend</span> <span class="keyword">class </span>Obstacle;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <span class="keywordtype">void</span> modifyConnector(<a class="code" href="class_avoid_1_1_conn_ref.html" title="The ConnRef class represents a connector object.">ConnRef</a> *conn);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        <span class="keywordtype">void</span> modifyConnector(<a class="code" href="class_avoid_1_1_conn_ref.html" title="The ConnRef class represents a connector object.">ConnRef</a> *conn, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> type,</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                <span class="keyword">const</span> <a class="code" href="class_avoid_1_1_conn_end.html" title="The ConnEnd class represents different possible endpoints for connectors.">ConnEnd</a> &amp;connEnd);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <span class="keywordtype">void</span> modifyConnectionPin(<a class="code" href="class_avoid_1_1_shape_connection_pin.html" title="The ShapeConnectionPin class represents a fixed point or &quot;pin&quot; on a shape that can be connected to...">ShapeConnectionPin</a> *pin);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="keywordtype">void</span> removeQueuedConnectorActions(<a class="code" href="class_avoid_1_1_conn_ref.html" title="The ConnRef class represents a connector object.">ConnRef</a> *conn);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        <span class="keywordtype">void</span> newBlockingShape(<span class="keyword">const</span> <a class="code" href="class_avoid_1_1_polygon.html" title="A dynamic Polygon, to which points can be easily added and removed.">Polygon</a>&amp; poly, <span class="keywordtype">int</span> pid);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <span class="keywordtype">void</span> checkAllBlockedEdges(<span class="keywordtype">int</span> pid);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="keywordtype">void</span> checkAllMissingEdges(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keywordtype">void</span> adjustContainsWithAdd(<span class="keyword">const</span> <a class="code" href="class_avoid_1_1_polygon.html" title="A dynamic Polygon, to which points can be easily added and removed.">Polygon</a>&amp; poly, <span class="keyword">const</span> <span class="keywordtype">int</span> p_shape);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <span class="keywordtype">void</span> adjustContainsWithDel(<span class="keyword">const</span> <span class="keywordtype">int</span> p_shape);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="keywordtype">void</span> adjustClustersWithAdd(<span class="keyword">const</span> <a class="code" href="class_avoid_1_1_polygon_interface.html" title="A common interface used by the Polygon classes.">PolygonInterface</a>&amp; poly, </div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> p_cluster);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <span class="keywordtype">void</span> adjustClustersWithDel(<span class="keyword">const</span> <span class="keywordtype">int</span> p_cluster);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <span class="keywordtype">void</span> rerouteAndCallbackConnectors(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <span class="keywordtype">bool</span> idIsUnique(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <span class="keywordtype">id</span>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <span class="keywordtype">void</span> improveCrossings(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        ActionInfoList actionList;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> _largestAssignedId;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <span class="keywordtype">bool</span> _consolidateActions;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="keywordtype">double</span> _orthogonalNudgeDistance;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <span class="keywordtype">double</span> _routingPenalties[lastPenaltyMarker];</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <span class="comment">// Overall modes:</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="keywordtype">bool</span> _polyLineRouting;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <span class="keywordtype">bool</span> _orthogonalRouting;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <span class="keywordtype">bool</span> _staticGraphInvalidated;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="keywordtype">bool</span> _inCrossingPenaltyReroutingStage;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;};</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;}</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="preprocessor">#endif</span></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Mar 6 2013 01:24:21 for libavoid by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
